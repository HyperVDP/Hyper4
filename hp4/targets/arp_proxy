## COMMANDS

mirroring_add 1 1
mirroring_add 2 2
mirroring_add 3 3

### setup.p4

#### ports 1 and 2 handled by program 1: 
table_add t_prog_select set_program 1 => 1
table_add t_prog_select set_program 2 => 1

#### if first time through, set next_action = INSPECT_SEB
table_add parse_control set_next_action 1 0 0 => 1

table_add parse_control set_next_action 1 42 1 => 0
table_add t_inspect_SEB extract_more 1 0&&&0 0&&&0 0&&&0 0&&&0 0&&&0 0&&&0 0&&&0 0&&&0 0&&&0 0&&&0 0&&&0 0&&&0 0x08&&&0xFF 0x06&&&0xFF 0&&&0 0&&&0 0&&&0 0&&&0 0&&&0 0&&&0 => 42 1 1
table_set_default t_inspect_SEB set_next_action 0
table_set_default t_norm_SEB a_norm_SEB
table_set_default t_norm_20_39 a_norm_20_39
table_set_default t_norm_40_59 a_norm_40_59
table_add t_set_first_table a_set_first_table 1 1 => 3
table_add t_set_validbits a_set_validbits 1 1 => 0xC0000000000000000000
table_add t_set_validbits a_set_validbits 1 0 => 0x80000000000000000000

### stages.p4

### match.p4
#### field to examine is ingress_port
table_add t1_stdmeta_exact set_meta_stdmeta 1 => 1

### switch_stdmeta.p4
#### set next_table to EXTRACTED_VALID
table_add t1_stdmeta_ingress_port init_program_state 1 1 => 1 1 4
table_add t1_stdmeta_ingress_port init_program_state 1 2 => 1 2 4
